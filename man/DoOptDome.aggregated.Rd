% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gtg_dome_lbspr.R
\name{DoOptDome.aggregated}
\alias{DoOptDome.aggregated}
\title{Optimize with Aggregated Length Data}
\usage{
DoOptDome.aggregated(
  lifeHistoryObj,
  fixedFleetPars,
  LengthCompObj,
  SizeBins = NULL,
  Lc = 0,
  mod = c("GTG", "LBSPR")
)
}
\arguments{
\item{lifeHistoryObj}{S4 life history object (same format as GTGDomeLBSPRSim2)}

\item{fixedFleetPars}{List of fixed fleet parameters including selectivity type}

\item{LengthCompObj}{S4 LengthComp object containing length composition data}

\item{SizeBins}{Optional list of size bin specifications with Linc and ToSize elements}

\item{Lc}{Length at first capture for removing small fish from analysis (default 0).
Only applies to fishery-independent data}

\item{mod}{Character string specifying model type ("GTG" or "LBSPR").
Currently only "GTG" is supported}
}
\value{
Same as DoOptDome() plus:
\itemize{
\item processed_data: Processed and pooled length composition data
\item original_n_groups: Number of groups in the original data before pooling
}
}
\description{
Convenience wrapper that always pools (aggregates) multiple groups before
optimization, regardless of the original data structure.
}
\details{
This function ensures data is always pooled before optimization by
calling processLengthCompData() with byGroup = FALSE. It's useful when the user
want to analyze combined data from multiple sources/years without having to
remember to set byGroup = FALSE.
}
\examples{
\donttest{
# Always pool multiple groups before optimization
# Create LifeHistory object
LifeHistoryObj <- new("LifeHistory")
LifeHistoryObj@Linf <- 120
LifeHistoryObj@MK <- 1.5
LifeHistoryObj@L50 <- 60
LifeHistoryObj@L95delta <- 2
LifeHistoryObj@Steep <- 0.7
attr(LifeHistoryObj, "NGTG") <- 13

# Create LengthComp object with multiple groups
data(gtg_catch_frequency)
LengthCompObj <- new("LengthComp",
                     dt = gtg_catch_frequency,
                     dataType = "Frequency",
                     L_source = "FD",
                     header = TRUE)

# Fleet parameters
fixedFleetPars <- list(
  selectivityCurve = "Normal.sca",
  SL1 = 55,
  SL2 = 18,
  SLmesh = c(13.5, 14.0, 14.8, 15.4, 15.9, 16.6, 17.8, 19),
  use_aggregated = TRUE
)

# Automatically pools all groups
result <- DoOptDome.aggregated(LifeHistoryObj, fixedFleetPars, LengthCompObj)
print(result$lbPars)
}
}
\seealso{
\code{\link{DoOptDome}}, \code{\link{DoOptDome.LengthComp}},
\code{\link{processLengthCompData}}
}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gtg_dome_lbspr.R
\name{GTGDomeLBSPRSim2}
\alias{GTGDomeLBSPRSim2}
\title{GTG Dome-Shaped LBSPR Simulation}
\usage{
GTGDomeLBSPRSim2(lifeHistoryObj, FleetPars, SizeBins = NULL)
}
\arguments{
\item{lifeHistoryObj}{S4 life history object containing stock parameters:
\itemize{
\item Linf: Asymptotic length (accessible via lifeHistoryObj@Linf)
\item MK: Natural mortality to growth coefficient ratio (lifeHistoryObj@MK)
\item L50: Length at 50\% maturity (lifeHistoryObj@L50)
\item L95delta: Delta from L50 to L95 (lifeHistoryObj@L95delta)
\item LW_A: Weight-length relationship intercept (lifeHistoryObj@LW_A)
\item LW_B: Weight-length relationship exponent (lifeHistoryObj@LW_B)
\item Steep: Stock-recruitment steepness (lifeHistoryObj@Steep)
\item R0: Unfished recruitment (lifeHistoryObj@R0)
}
Additional parameters can be set as attributes:
\itemize{
\item NGTG: Number of growth type groups (default 13)
\item GTGLinfBy: Increment between Linf values (alternative to NGTG)
\item CVLinf: Coefficient of variation in length-at-age (default 0.1)
\item MaxSD: Maximum SD for Linf variation (default 2)
\item FecB: Fecundity exponent (default 3)
\item Mpow: Exponent for M/K ratio (default 0)
}}

\item{FleetPars}{A list containing fleet/selectivity parameters:
\itemize{
\item selectivityCurve: Type of selectivity ("Logistic", "Normal.loc", "Normal.sca",
"logNorm", "binorm.sca", "bilognorm", "Knife")
\item SL1-SL5: Selectivity parameters (depends on curve type)
\item SLmesh: Mesh sizes (for gillnet models)
\item SLMin: Minimum landing limit
\item use_aggregated: Whether to use aggregated selectivity (default TRUE)
\item fishery_mesh: Specific mesh size for fishery
\item FM: Fishing mortality rate
\item MLLKnife: Minimum length for knife-edge selectivity
}}

\item{SizeBins}{Optional list containing:
\itemize{
\item Linc: Length bin increment
\item ToSize: Maximum size bin
}}
}
\value{
A list containing simulation results:
\itemize{
\item SPR: Spawning potential ratio
\item Yield: Equilibrium yield
\item YPR: Yield per recruit
\item LCatchFished: Expected length composition of catch (fished)
\item LPopFished: Expected length composition of population (fished)
\item LCatchUnfished: Expected length composition of catch (unfished)
\item LPopUnfished: Expected length composition of population (unfished)
\item LenMids: Length bin midpoints
\item VulLen2: Selectivity-at-length
\item RelRec: Relative recruitment
\item SPRatsize: Cumulative spawning-per-recruit by size
}
}
\description{
Simulates length-based spawning potential ratio (SPR) using a genetically-based
growth type group (GTG) approach, with support for dome-shaped selectivity patterns.
}
\details{
This function simulates fish population dynamics using multiple growth
type groups (GTGs) to represent variability in maximum length (Linf). It supports
various selectivity patterns including dome-shaped curves commonly observed in
gillnet fisheries.

The simulation proceeds by:
\enumerate{
\item Setting up GTGs with different Linf values
\item Distributing recruits across GTGs
\item Computing selectivity-at-length based on the specified curve
\item Simulating population dynamics for fished and unfished scenarios
\item Calculating spawning potential ratio and yield metrics
}
}
\examples{
# example code
# GTG LBSPR simulation with Normal.sca selectivity
# Create LifeHistory object
LifeHistoryObj <- new("LifeHistory")
LifeHistoryObj@Linf <- 120
LifeHistoryObj@K <- 0.2
LifeHistoryObj@L50 <- 60
LifeHistoryObj@L95delta <- 2
LifeHistoryObj@MK <- 1.5
LifeHistoryObj@LW_A <- 0.01
LifeHistoryObj@LW_B <- 3
LifeHistoryObj@Steep <- 0.7
LifeHistoryObj@R0 <- 1E6

# Add GTG attributes
attr(LifeHistoryObj, "NGTG") <- 13
attr(LifeHistoryObj, "CVLinf") <- 0.1
attr(LifeHistoryObj, "MaxSD") <- 2

# Define fleet parameters
FleetPars <- list(
  FM = 1,
  selectivityCurve = "Normal.sca",
  SL1 = 55,
  SL2 = 18,
  SLmesh = c(13.5, 14.0, 14.8, 15.4, 15.9, 16.6, 17.8, 19),
  use_aggregated = TRUE
)

# Define size bins
SizeBins <- list(Linc = 1, ToSize = 144)

# Run simulation
result <- GTGDomeLBSPRSim2(LifeHistoryObj, FleetPars, SizeBins)
}
\seealso{
\code{\link{DoOptDome}}, \code{\link{OptFunDome}},
\code{\link{processLengthCompData}}
}
